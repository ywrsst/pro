//1~3999의 숫자를 입력하고  그외 숫자나 문자열은 에러코드
// 받은 숫자를 함수하나를 이용해서 로마숫자로 변경해서 출력
#include <iostream>
#include <string>
#include <vector>
#include <stdexcept>

using namespace std;

// 숫자에 해당하는 로마숫자를 딕셔너리(vector)로 정의합니다.
vector<pair<int, string>> romanumerals = {
    {1000, "M"},
    {900, "CM"},
    {500, "D"},
    {400, "CD"},
    {100, "C"},
    {90, "XC"},
    {50, "L"},
    {40, "XL"},
    {10, "X"},
    {9, "IX"},
    {5, "V"},
    {4, "IV"},
    {1, "I"}
};

// 주어진 숫자를 로마숫자로 변환하는 함수입니다.
string romanumeral(int n) {
    if (n < 1 || n > 3999) {
        throw invalid_argument("숫자 범위를 벗어났습니다.");
    }

    string result;
    for (auto numeral : romanumerals) {
        while (n >= numeral.first) {
            result += numeral.second;
            n -= numeral.first;
        }
    }
    return result;
}
//이 코드는 C++로 작성된 로마 숫자(Roman numeral)를 생성하는 함수입니다. 
//함수는 정수 n을 입력으로 받으며, n이 1부터 3999 사이의 정수인 경우, 로마 숫자로 변환하여 문자열로 반환합니다. 그렇지 않은 경우, invalid_argument로 예외를 처리합니다.

int main() {
    int num;
    cout << "1부터 3999 사이의 숫자를 입력하세요: "; //사용자로부터 1에서 3999 사이의 숫자를 입력받습니다.
    if (cin >> num) {
        try {
            string roman_numeral = romanumeral(num);
            cout << roman_numeral << endl;
        }
        catch (invalid_argument& e) {
            cerr << "에러: " << e.what() << endl;
            return 1;
        }
    }
    else {
        cerr << "에러: 올바른 숫자를 입력하세요." << endl;
        return 1;
    }
    return 0;
    //이 코드는 사용자로부터 입력받은 숫자를 로마 숫자 표기법으로 변환하는 함수 romanumeral()을 호출.
    //입력이 유효한지 확인하기 위해 cin 객체를 사용합니다. cin = 입력받을 함수
    // 만약 입력이 유효하다면, romanumeral() 함수를 호출하여 입력받은 숫자를 로마 숫자 표기법으로 변환.
    // romanumeral() 함수에서 예외가 발생하면 catch에서 처리.예외 처리는 invalid_argument 클래스를 사용하며, 에러 메시지를 출력하고 프로그램을 종료.
    // 입력이 유효하지 않은 경우, 에러 메시지를 출력하고 프로그램을 종료.
    // 프로그램이 성공적으로 실행되면 0을 반환하고 종료.
   
}
